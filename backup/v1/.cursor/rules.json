{
  "rules": [
    {
      "title": "UX/UI – Principes Généraux",
      "content": "FR par défaut. Cohérence visuelle (grille, espacements, typo), contraste AA, focus visible, navigation clavier. Responsive 360/768/1280, tables scrollables, loaders non-bloquants. Messages d’erreur standardisés: titre + message + détails pliables + code HTTP aligné. Utiliser showError/showSuccess/showInfo."
    },
    {
      "title": "Flask – Configuration & API",
      "content": "ENV > config.json > config.yaml. Respecter FLASK_RUN_PORT/FLASK_DEBUG. Endpoints clés: /api/meta (multipart ou JSON path), /api/extract, /api/pack, /api/releases, /api/scene-rules/* (list, grab, grab-all, grab-batch, cached, view, download). Retourner {success:false,error,type?} et logger côté serveur."
    },
    {
      "title": "Scene Rules – Sélection & Cache",
      "content": "UI: deux onglets (Disponibles/Cache). Multi-sélection (checkbox par ligne + Sélectionner tout (année)) et action ‘Télécharger la Sélection’ → POST /api/scene-rules/grab-batch. Parser robuste (balises dans années) + fallback regex href=\"nfo/YYYY_RULE.nfo\". Cache lisible, viewer modal et download .txt."
    },
    {
      "title": "NFO – Conformité Scene",
      "content": "ASCII-only, largeur ≤ 80 colonnes, sections optionnelles. S’il y a UTF‑8 en entrée, fallback sans casser la largeur. Placeholders {title} {author} {publisher} {language} {format} {source} {release_date} {group} {size} {url} {…}."
    },
    {
      "title": "Règles d’édition Cursor",
      "content": "Préserver strictement l’indentation et le style existants. Edits atomiques et localisés; référencer précisément fichiers/sections. Code existant: code references; code nouveau: blocs Markdown. Après chaque edit: mini-checklist UX/A11y + critères d’acceptation + proposition de test MCP (Playwright)."
    },
    {
      "title": "A11y – WCAG 2.2 AA",
      "content": "Focus visible, labels/inputs liés, roles ARIA si utiles, modals avec focus trap, cibles ≥ 44px. Eviter pièges clavier. Zero violation critique sur la page principale."
    },
    {
      "title": "Sécurité",
      "content": "Pas de secrets côté client. Valider/sanitizer inputs (noms de templates, chemins). CORS minimal. En prod: entêtes sécurisées (ex. Flask‑Talisman/CSP)."
    }
  ]
}


